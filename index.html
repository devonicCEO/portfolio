<!doctype html>
<html lang="en" translate="no">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()" />

    <link rel="stylesheet" href="css/styles.css" />

    <link
        href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400;700&family=Montserrat:wght@400;600;700&display=swap"
        rel="stylesheet" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>

    <!-- XSS Protection: DOMPurify -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>

    <!-- Contact Form & Visitor Tracking -->
    <script src="js/visitor-tracking.js"></script>
    <script src="js/contact-form-secure.js"></script>

    <title>Umitjan | Full Stack Developer</title>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span>Devonic</span>
            </div>

            <!-- Desktop Menu -->
            <ul class="nav-menu">
                <li><a href="#about" class="nav-link">About</a></li>
                <li><a href="#projects" class="nav-link">Projects</a></li>
                <li><a href="#contact" class="nav-link">Contact</a></li>
            </ul>

            <!-- Hamburger Menu -->
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="hero-text">
                <span class="I" data-aos="fade-down" data-aos-delay="200">I AM <span>UMİTJAN</span></span><br />
                <span class="dev" data-aos="fade-up" data-aos-delay="400">FULL STACK DEVELOPER</span>

                <div class="tech-marquee">
                    <div class="marquee-wrapper">
                        <div class="marquee-content">
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg"
                                    alt="Flutter" />
                                <span>Flutter</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg"
                                    alt="Python" />
                                <span>Python</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/csharp/csharp-original.svg"
                                    alt="C#" />
                                <span>C#</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg"
                                    alt="JavaScript" />
                                <span>JS</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg"
                                    alt="HTML" />
                                <span>HTML</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg"
                                    alt="CSS" />
                                <span>CSS</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/firebase/firebase-plain.svg"
                                    alt="Firebase" />
                                <span>Firebase</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg"
                                    alt="MySQL" />
                                <span>MySQL</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://res.cloudinary.com/crunchbase-production/image/upload/c_limit,w_120,h_120/v1678901234/companys/Cloudinary_Logo.png"
                                    alt="Cloudinary" />
                                <span>Cloudinary</span>
                            </div>
                            <div class="skill-item">
                                <img src="https://www.onesignal.com/images/logo-square.png" alt="OneSignal"
                                    style="background: #fff; padding: 8px" />
                                <span>OneSignal</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="hero-right">
                <div class="profile-image" data-aos="zoom-in" data-aos-delay="600">
                    <img src="assets/logo.png" alt="Umitjan Profile" />
                </div>
                <p class="intro" data-aos="zoom-in" data-aos-delay="600">
                    Full Stack Developer & UI/UX Enthusiast
                </p>
                <div class="contact-links horizontal">
                    <a href="https://github.com/devonicCEO" target="_blank" class="contact-item" data-aos="fade-up"
                        data-aos-delay="25" rel="noopener noreferrer">
                        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg"
                            alt="GitHub" />
                        <span>GitHub</span>
                    </a>
                    <a href="https://linkedin.com/in/your-linkedin" target="_blank" class="contact-item"
                        data-aos="fade-up" data-aos-delay="50" rel="noopener noreferrer">
                        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg"
                            alt="LinkedIn" />
                        <span>LinkedIn</span>
                    </a>
                    <a href="mailto:umitjan.novruzov06@gmail.com" class="contact-item" data-aos="fade-up"
                        data-aos-delay="75">
                        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg"
                            alt="Email" />
                        <span>Email</span>
                    </a>
                    <a href="https://wa.me/YOUR_PHONE_NUMBER" target="_blank" class="contact-item whatsapp"
                        data-aos="fade-up" data-aos-delay="100" rel="noopener noreferrer">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
                        <span>WhatsApp</span>
                    </a>
                </div>
                <a href="#about" class="cta-button">Learn More →</a>
            </div>
        </div>

        <!-- About Me Section -->
        <section id="about" class="section">
            <h2 class="section-title">About Me</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>
                        Hello! I'm Umitjan, a developer from Turkmenistan. I stepped into
                        the world of programming at the age of <strong>14</strong>, and
                        since then, I've been passionately advancing in this field.
                    </p>
                    <p>
                        Currently, I work fluently with technologies like
                        <strong>Python, C#, JavaScript, Flutter, Firebase, MySQL, HTML, CSS,
                            Cloudinary, and OneSignal</strong>.
                    </p>
                    <p>
                        I have experience in mobile development (Flutter), web development
                        (HTML/CSS/JS), and backend (Python/C#/Firebase). I always focus on
                        writing clean code, designing user-friendly interfaces, and
                        building high-performance applications.
                    </p>
                    <p>
                        My goal is to create innovative and impressive projects with
                        strong technical knowledge. Every new project is an opportunity
                        for me to learn and improve myself.
                    </p>
                </div>
            </div>

            <h3 class="skills-title">My Skills</h3>
            <div class="skills-grid" id="skillsGrid">
                <!-- Skills Firebase'den yüklenecek -->
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section">
            <h2 class="section-title">My Projects</h2>
            <div class="projects-grid" id="projectsGrid">
                <!-- Projects Firebase'den yüklenecek -->
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-wrapper">
                <form id="contactForm" class="contact-form">
                    <input type="text" name="name" placeholder="Your Name" required />
                    <input type="email" name="email" placeholder="Your Email" required />
                    <textarea name="message" placeholder="Your Message" rows="6" required></textarea>

                    <button type="submit" class="submit-btn">Send Message</button>
                </form>

                <!-- Başarı / hata mesajı -->
                <div id="formMessage" style="margin-top: 30px; font-size: 1.3rem; text-align: center"></div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 Umitjan | Devonic. All rights reserved.</p>
            <div class="footer-links">
                <a href="https://github.com/devonicCEO" target="_blank" rel="noopener noreferrer">GitHub</a>
                <a href="https://linkedin.com/in/your-linkedin" target="_blank" rel="noopener noreferrer">LinkedIn</a>
                <a href="https://wa.me/YOUR_PHONE_NUMBER" target="_blank" rel="noopener noreferrer">WhatsApp</a>
            </div>
        </footer>

        <!-- Scroll Down Arrow -->
        <div class="scroll-down">
            <a href="#about">
                <svg width="40" height="60" viewBox="0 0 40 60">
                    <path d="M20 0 L40 30 L20 60 L0 30 Z" fill="none" stroke="#bc13fe" stroke-width="3" />
                </svg>
            </a>
        </div>
    </div>

    <!-- Form sumbit and reset input -->
    <script>
        const form = document.getElementById("contactForm");
        const formMessage = document.getElementById("formMessage");
        const submitBtn = form.querySelector(".submit-btn");

        form.addEventListener("submit", async function (e) {
            e.preventDefault(); // Sayfanın yenilenmesini tamamen engelle

            // Buton metnini değiştir (gönderiliyor...)
            submitBtn.textContent = "Sending...";
            submitBtn.disabled = true;

            // Form verilerini al
            const formData = new FormData(form);

            try {
                const response = await fetch("https://formspree.io/f/mdanwjob", {
                    method: "POST",
                    body: formData,
                    headers: {
                        Accept: "application/json",
                    },
                });

                if (response.ok) {
                    // Başarılı!
                    form.reset();
                    formMessage.innerHTML =
                        '<span style="color:#bc13fe;">Message Sent Successfully! ✅</span>';
                    submitBtn.textContent = "Sent! ✅";
                    submitBtn.style.background = "#bc13fe";
                    submitBtn.style.color = "#000";

                    // 4 saniye sonra eski haline getir
                    setTimeout(() => {
                        submitBtn.textContent = "Send Message";
                        submitBtn.style.background = "transparent";
                        submitBtn.style.color = "#bc13fe";
                        submitBtn.disabled = false;
                        formMessage.innerHTML = "";
                    }, 4000);
                } else {
                    throw new Error("Gönderme hatası");
                }
            } catch (error) {
                // Hata durumunda
                formMessage.innerHTML =
                    '<span style="color:#ff4444;">Error! Please try again.</span>';
                submitBtn.textContent = "Send Message";
                submitBtn.disabled = false;

                setTimeout(() => {
                    formMessage.innerHTML = "";
                }, 5000);
            }
        });
    </script>

    <script>
        AOS.init({
            duration: 700, // Animasyon süresi
            easing: "ease-in-out", // Yumuşak geçiş
            once: false, // EN ÖNEMLİ: false yap ki her seferinde oynasın!
            mirror: true, // Yukarı kaydırıldığında ters animasyon oynasın (daha doğal)
            offset: 100, // Biraz erken başlasın
        });
    </script>

    <script>
        // Hamburger Menu Toggle
        const hamburger = document.getElementById("hamburger");
        const navMenu = document.querySelector(".nav-menu");

        hamburger.addEventListener("click", () => {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });

        // Nav link'lerine tıklandığında menu kapat
        document.querySelectorAll(".nav-link").forEach((link) => {
            link.addEventListener("click", () => {
                hamburger.classList.remove("active");
                navMenu.classList.remove("active");
            });
        });

        // Sayfa scroll'lanınca navbarı güncelle
        window.addEventListener("scroll", () => {
            const navbar = document.querySelector(".navbar");
            if (window.scrollY > 50) {
                navbar.style.boxShadow = "0 2px 20px rgba(188, 19, 254, 0.2)";
            } else {
                navbar.style.boxShadow = "none";
            }
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const wrapper = document.querySelector(".marquee-wrapper");
            const content = document.querySelector(".marquee-content");
            if (wrapper && content) {
                const clone = content.cloneNode(true);
                wrapper.appendChild(clone);
            }

            // Skills Firebase'den yükle
            loadSkills();
            // Projects Firebase'den yükle
            loadProjects();
        });

        // Firebase'den Skills Yükle (Realtime)
        function loadSkills() {
            if (typeof db === "undefined") {
                console.log("Firebase yüklenemedi, skills yüklenemedi.");
                return;
            }

            const skillsGrid = document.getElementById("skillsGrid");

            // Realtime listener
            db.collection("skills")
                .orderBy("createdAt", "asc")
                .onSnapshot(
                    (snapshot) => {
                        skillsGrid.innerHTML = ""; // Temizle

                        if (snapshot.empty) {
                            skillsGrid.innerHTML =
                                '<p style="grid-column: 1/-1; text-align: center; color: #a8a8b3;">Henüz skill eklenmemiş.</p>';
                            return;
                        }

                        let delay = 0;
                        snapshot.forEach((doc) => {
                            const skill = doc.data();
                            const skillCard = document.createElement("div");
                            skillCard.className = "skill-card";
                            skillCard.setAttribute("data-aos", "flip-up");
                            skillCard.setAttribute("data-aos-delay", delay);

                            skillCard.innerHTML = `
                        <img src="${skill.imageUrl}" alt="${skill.title}" />
                        <span>${skill.title}</span>
                    `;

                            skillsGrid.appendChild(skillCard);
                            delay += 25;
                        });

                        // AOS'u yeniden başlat
                        if (typeof AOS !== "undefined") {
                            AOS.refresh();
                        }
                    },
                    (error) => {
                        console.error("Skills yüklenemedi:", error);
                        skillsGrid.innerHTML =
                            '<p style="grid-column: 1/-1; text-align: center; color: #ff4444;">Skills yüklenirken hata oluştu.</p>';
                    },
                );
        }

        // Firebase'den Projects Yükle (Realtime)
        function loadProjects() {
            if (typeof db === "undefined") {
                console.log("Firebase yüklenemedi, projects yüklenemedi.");
                return;
            }

            const projectsGrid = document.getElementById("projectsGrid");

            // Realtime listener
            db.collection("projects")
                .orderBy("createdAt", "desc")
                .onSnapshot(
                    (snapshot) => {
                        projectsGrid.innerHTML = ""; // Temizle

                        if (snapshot.empty) {
                            projectsGrid.innerHTML =
                                '<p style="grid-column: 1/-1; text-align: center; color: #a8a8b3;">Henüz proje eklenmemiş.</p>';
                            return;
                        }

                        snapshot.forEach((doc) => {
                            const project = doc.data();
                            const imageUrl =
                                project.coverImage ||
                                project.imageUrl ||
                                (project.images && project.images[0]) ||
                                "";
                            const projectCard = document.createElement("div");
                            projectCard.className = "project-card";
                            projectCard.setAttribute("data-aos", "fade-up");
                            projectCard.style.cursor = "pointer";
                            projectCard.onclick = () => {
                                window.location.href = `projeler-detay.html?id=${doc.id}`;
                            };


                            projectCard.innerHTML = `
                                <img src="${imageUrl}" alt="${project.name}" />
                                <div class="project-content">
                                    <h3>${project.name}</h3>
                                    <p>${project.description.substring(0, 100)}${project.description.length > 100 ? "..." : ""}</p>
                                    <button class="explore-btn" onclick="event.stopPropagation(); window.location.href='projeler-detay.html?id=${doc.id}'">Explore</button>
                                </div>
                            `;

                            projectsGrid.appendChild(projectCard);
                        });

                        // AOS'u yeniden başlat
                        if (typeof AOS !== "undefined") {
                            AOS.refresh();
                        }
                    },
                    (error) => {
                        console.error("Projects yüklenemedi:", error);
                        projectsGrid.innerHTML =
                            '<p style="grid-column: 1/-1; text-align: center; color: #ff4444;">Projects yüklenirken hata oluştu.</p>';
                    },
                );
        }
    </script>
</body>

</html>